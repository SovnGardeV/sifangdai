(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21c051fa"],{"05ce":function(a,e,t){a.exports={menuText:"#bfcbd9",menuActiveText:"#409EFF",subMenuActiveText:"#f4f4f5",menuBg:"#fff",menuHover:"#4E5BF2",subMenuBg:"#fff",subMenuHover:"#4E5BF2",sideBarWidth:"210px"}},"1d46":function(a,e,t){"use strict";t.r(e);var i=function(){var a=this,e=a.$createElement,i=a._self._c||e;return i("div",[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:6}},[i("el-card",{staticClass:"info-card"},[i("div",{staticClass:"info-card-head"}),a._v(" "),i("img",{staticClass:"avatar",attrs:{src:t("86d5")}}),a._v(" "),i("div",{staticClass:"fix"},a._l(a.commercialInfo,(function(e,t){return i("div",{key:t,staticClass:"detail-info"},[a.map[t]?i("span",{staticClass:"detail-info-item"},[i("div",{staticClass:"info-tip"},[a._v("\n                "+a._s(a.map[t])+"\n              ")]),a._v("\n              "+a._s(e)+"\n            ")]):a._e()])})),0)])],1),a._v(" "),i("el-col",{attrs:{span:18}},[i("el-card",[i("div",{staticStyle:{"margin-bottom":"20px"}},[i("div",{staticClass:"app-list-title"},[a._v("APP列表")]),a._v(" "),i("div",{staticStyle:{float:"right","margin-top":"-18px"}},[i("el-input",{staticStyle:{width:"unset"},attrs:{size:"mini",placeholder:"请输入APP名称"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.filterList()}},model:{value:a.mainTable.filter.name,callback:function(e){a.$set(a.mainTable.filter,"name",e)},expression:"mainTable.filter.name"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return a.filterList()}},slot:"append"})],1),a._v(" "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return a.add()}}},[a._v("新增")])],1)]),a._v(" "),i("el-row",{attrs:{gutter:10}},a._l(a.mainTable.array,(function(e){return i("el-col",{key:e.appId,attrs:{xs:12,sm:8,xl:4,lg:6}},[i("div",{staticClass:"app-info"},[i("div",{staticClass:"app-info-detail"},[i("el-scrollbar",a._l(e,(function(t,r){return i("div",{key:r},[a.map[r]?i("div",{staticStyle:{"margin-bottom":"15px"}},[i("div",{staticClass:"before-line"},[a._v(a._s(a.map[r]))]),a._v(" "),i("div","appKey"!==r?[a._v(a._s(t))]:[i("span",[a._v("\n                          "+a._s(t)+"\n                          "),i("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer"},on:{click:function(t){return a.editAPPKey(e)}}})])])]):a._e()])})),0)],1),a._v(" "),i("div",{staticClass:"shadow"}),a._v(" "),i("div",{staticClass:"image-header"},[i("img",{attrs:{src:e.appImg}})]),a._v(" "),i("div",{staticClass:"app-info-name"},[a._v(a._s(e.appName))])])])})),1),a._v(" "),0===a.mainTable.array.length?i("div",[a._v("\n          暂无APP\n        ")]):a._e()],1)],1)],1),a._v(" "),i("el-dialog",{attrs:{title:"新增APP",width:"400px",center:"",visible:a.mainTable.dialogAddVisible},on:{"update:visible":function(e){return a.$set(a.mainTable,"dialogAddVisible",e)}}},[i("el-form",{ref:"addForm",attrs:{model:a.mainTable.addForm,rules:a.mainTable.formRules}},[i("el-form-item",{attrs:{label:"应用LOGO","label-width":"100px",prop:"appImg"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":a.handleUploadPicture}},[a.mainTable.addForm.appImg?i("img",{staticClass:"avatar",attrs:{src:a.mainTable.addForm.appImg}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a._v(" "),i("el-form-item",{attrs:{label:"APP名称","label-width":"100px",prop:"appName"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:a.mainTable.addForm.appName,callback:function(e){a.$set(a.mainTable.addForm,"appName",e)},expression:"mainTable.addForm.appName"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"回调地址","label-width":"100px",prop:"appBackUrl"}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:a.mainTable.addForm.appBackUrl,callback:function(e){a.$set(a.mainTable.addForm,"appBackUrl",e)},expression:"mainTable.addForm.appBackUrl"}})],1),a._v(" "),i("el-form-item",{attrs:{label:"白名单","label-width":"100px",prop:"appWhiteList"}},[i("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:a.mainTable.addForm.appWhiteList,callback:function(e){a.$set(a.mainTable.addForm,"appWhiteList",e)},expression:"mainTable.addForm.appWhiteList"}})],1)],1),a._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){a.mainTable.dialogAddVisible=!1}}},[a._v("取 消")]),a._v(" "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:a.handleAddAPP}},[a._v("确 定")])],1)],1)],1)},r=[],n=(t("6b54"),t("7f7f"),t("ac6a"),t("456d"),t("9aba")),o=t("c24f"),l={data:function(){var a=this;return{mainTable:{dialogAddVisible:!1,filter:{name:""},loading:!1,array:[],addForm:{appWhiteList:"",appBackUrl:"",appKey:"",appImg:"",appId:"",appName:"",commercialNumber:function(e){return a.$route.query.commercialNumber}()},originArray:[]},formRules:{appWhiteList:[{required:!0,trigger:"blur"}],appBackUrl:[{required:!0,trigger:"blur"}],appKey:[{required:!0,trigger:"blur"}],appImg:[{required:!0,trigger:"blur"}],appId:[{required:!0,trigger:"blur"}],appName:[{required:!0,trigger:"blur"}]},map:{commercialName:"商户名",commercialIphone:"商户手机号",commercialNumber:"商户号",commercialBalance:"商户余额",commercialRatio:"服务费收取比例",creationTime:"创建时间",updateTime:"\t修改时间",appName:"应用名",appBackUrl:"回调地址",appIsPut:"是否上架",createTime:"创建时间",appKey:"appKey"},commercialInfo:{}}},created:function(){this.getMainTableData()},methods:{add:function(){this.mainTable.dialogAddVisible=!0,this.initForm()},initForm:function(){var a=this,e=Object.keys(this.mainTable.addForm);e.forEach((function(e){"commercialNumber"!==e&&(a.mainTable.addForm[e]="")})),this.$nextTick((function(e){a.$refs.addForm.clearValidate()}))},editAPPKey:function(a){var e=this;this.$confirm("确定要修改"+a.appName+"的APPKey吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["n"])({appId:a.appId}).then((function(a){"10000"===a.errorCode&&e.$message({type:"success",message:"修改成功!"})})).catch((function(a){e.$message.error(a)}))})).catch((function(){e.$message({type:"info",message:"已取消"})}))},handleUploadPicture:function(a){var e=this,t=new FormData;t.append("file",a),t.append("imgType",1),t.append("commercialNumber",this.$route.query.commercialNumber),Object(n["e"])(t).then((function(a){e.mainTable.addForm.appImg=a.src}))},handleAddAPP:function(){var a=this;Object(o["a"])(this.mainTable.addForm).then((function(e){"10000"===e.errorCode&&(a.$message({type:"success",message:e.mes}),a.mainTable.dialogAddVisible=!1,a.getMainTableData())}))},filterList:function(){var a=this;this.mainTable.array=this.mainTable.originArray.filter((function(e){return e.appName.indexOf(a.mainTable.filter.name)>-1}))},getMainTableData:function(){var a=this;this.mainTable.loading=!0;var e=this.$route.query,t=e.commercialId,i=e.commercialNumber,r={commercialId:t,commercialNumber:i};Object(o["g"])(r).then((function(e){e.appInfo.forEach((function(a){a.createTime=new Date(a.createTime).toLocaleString(),a.appIsPut="0"===a.appIsPut.toString()?"上架":"下架"})),a.mainTable.array=a.mainTable.originArray=e.appInfo||[],e.commercial.creationTime=new Date(e.commercial.creationTime).toLocaleString(),e.commercial.updateTime=new Date(e.commercial.updateTime).toLocaleString(),a.commercialInfo=e.commercial||{}})).finally((function(e){a.mainTable.loading=!1}))}}},c=l,s=(t("82e0"),t("2877")),m=Object(s["a"])(c,i,r,!1,null,null,null);e["default"]=m.exports},"456d":function(a,e,t){var i=t("4bf8"),r=t("0d58");t("5eda")("keys",(function(){return function(a){return r(i(a))}}))},"5eda":function(a,e,t){var i=t("5ca1"),r=t("8378"),n=t("79e5");a.exports=function(a,e){var t=(r.Object||{})[a]||Object[a],o={};o[a]=e(t),i(i.S+i.F*n((function(){t(1)})),"Object",o)}},"82e0":function(a,e,t){"use strict";var i=t("05ce"),r=t.n(i);r.a},"86d5":function(a,e,t){a.exports=t.p+"img/bg.d4ae1f81.jpg"},"9aba":function(a,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"a",(function(){return n})),t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return l})),t.d(e,"d",(function(){return c}));var i=t("b775");function r(a){return Object(i["a"])({url:"/instead-pay-web/upload/qrUpload",method:"post",data:a})}function n(a){return Object(i["a"])({url:"/instead-pay-web/qr/insert",method:"post","Content-Type":"multipart/form-data",data:a})}function o(a){return Object(i["a"])({url:"/instead-pay-web/qr/distributionQrCodeByHand",method:"post","Content-Type":"multipart/form-data",data:a})}function l(a){return Object(i["a"])({url:"/instead-pay-web/qr/queryQrAll",method:"post","Content-Type":"multipart/form-data",data:a})}function c(a){return Object(i["a"])({url:"/instead-pay-web/qr/updateEnableStatus",method:"post","Content-Type":"multipart/form-data",data:a})}}}]);