(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-670b6eb8"],{"17c7":function(t,e,a){},"456d":function(t,e,a){var i=a("4bf8"),o=a("0d58");a("5eda")("keys",(function(){return function(t){return o(i(t))}}))},"5eda":function(t,e,a){var i=a("5ca1"),o=a("8378"),r=a("79e5");t.exports=function(t,e){var a=(o.Object||{})[t]||Object[t],n={};n[t]=e(a),i(i.S+i.F*r((function(){a(1)})),"Object",n)}},9406:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},["operator"===t.$store.state.user.mode?a("el-row",{staticStyle:{height:"100%"},attrs:{gutter:10}},[a("el-col",{staticStyle:{height:"100%"},attrs:{span:7}},[a("el-card",{staticClass:"no-padding",staticStyle:{height:"100%"}},[a("div",{staticClass:"dashboard-title"},[t._v("商户信息")]),t._v(" "),a("div",{staticStyle:{padding:"10px 30px"}},t._l(t.commercialInfo,(function(e,i){return a("div",{key:i,staticClass:"detail-info"},[t.map[i]?a("span",{staticStyle:{"line-height":"50px"}},[a("span",{staticStyle:{color:"#4E5BF2","font-weight":"bold","font-size":"12px"}},[t._v(t._s(t.map[i]))]),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),a("span",{staticStyle:{"font-size":"18px"}},[t._v(t._s(e))])]):t._e()])})),0)])],1),t._v(" "),a("el-col",{staticClass:"dashboard-data",staticStyle:{height:"100%"},attrs:{span:17}},[a("el-card",{staticStyle:{height:"calc(100% - 210px)","margin-bottom":"10px",overflow:"auto"}},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"APP列表",name:"first"}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[t._v("APP列表")]),t._v(" "),a("el-table",{attrs:{data:t.appListInfo.appArray,"element-loading-text":"加载中，请稍候","element-loading-spinner":"el-icon-loading",border:"",stripe:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"商户号",prop:"commercialNumber"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"APP名称",prop:"appName"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"白名单",prop:"appWhiteList"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"回调地址",prop:"appBackUrl"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"APPkey"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(e.row.appKey)+"\n                  "),a("i",{staticClass:"el-icon-edit",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.editAPPKey(e.row)}}})]}}],null,!1,4184503320)}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(new Date(e.row.createTime).toLocaleString())+"\n                ")]}}],null,!1,1767831212)}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作人",prop:"operatorName"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                  "+t._s(new Date(e.row.operatorTime).toLocaleString())+"\n                ")]}}],null,!1,928356328)})],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"新增APP",name:"second"}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"应用LOGO","label-width":"100px",prop:"appImg"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":t.handleUploadPicture}},[t.addForm.appImg?a("img",{staticClass:"avatar",attrs:{src:t.addForm.appImg}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"APP名称",prop:"appName"}},[a("el-input",{staticStyle:{width:"unset"},attrs:{autocomplete:"off"},model:{value:t.addForm.appName,callback:function(e){t.$set(t.addForm,"appName",e)},expression:"addForm.appName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"回调地址",prop:"appBackUrl"}},[a("el-input",{staticStyle:{width:"unset"},attrs:{autocomplete:"off"},model:{value:t.addForm.appBackUrl,callback:function(e){t.$set(t.addForm,"appBackUrl",e)},expression:"addForm.appBackUrl"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"白名单",prop:"appWhiteList"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",autocomplete:"off"},model:{value:t.addForm.appWhiteList,callback:function(e){t.$set(t.addForm,"appWhiteList",e)},expression:"addForm.appWhiteList"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleAddAPP}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.activeName="first"}}},[t._v("返回")])],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"修改密码",name:"third"}},[a("el-form",{ref:"modifyForm",attrs:{model:t.modifyForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"原密码",prop:"appId"}},[a("el-input",{staticStyle:{width:"unset"},attrs:{type:"password",autocomplete:"off"},model:{value:t.modifyForm.oldPwd,callback:function(e){t.$set(t.modifyForm,"oldPwd",e)},expression:"modifyForm.oldPwd"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"appName"}},[a("el-input",{staticStyle:{width:"unset"},attrs:{type:"password",autocomplete:"off"},model:{value:t.modifyForm.newPwd,callback:function(e){t.$set(t.modifyForm,"newPwd",e)},expression:"modifyForm.newPwd"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"重复新密码",prop:"appKey"}},[a("el-input",{staticStyle:{width:"unset"},attrs:{type:"password",autocomplete:"off"},model:{value:t.modifyForm.newPwd2,callback:function(e){t.$set(t.modifyForm,"newPwd2",e)},expression:"modifyForm.newPwd2"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleModifyPwd}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.activeName="first"}}},[t._v("返回")])],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"白名单",name:"fourth"}},[a("el-form",{ref:"ipsForm",attrs:{model:t.ipsForm,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"IP"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:5,autocomplete:"off",placeholder:"IP之间以“,”隔开"},model:{value:t.ipsForm.ips,callback:function(e){t.$set(t.ipsForm,"ips",e)},expression:"ipsForm.ips"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleIpsForm}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.activeName="first"}}},[t._v("返回")])],1)],1)],1),t._v(" "),a("el-tab-pane",{attrs:{label:"提现",name:"fifth"}},[a("el-form",{ref:"witForm",attrs:{model:t.witForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"提现金额"}},[a("el-input",{staticStyle:{width:"unset"},attrs:{autocomplete:"off"},model:{value:t.witForm.witMoney,callback:function(e){t.$set(t.witForm,"witMoney",e)},expression:"witForm.witMoney"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"收款方式"}},[a("el-select",{model:{value:t.witForm.qrId,callback:function(e){t.$set(t.witForm,"qrId",e)},expression:"witForm.qrId"}},t._l(t.appListInfo.qrArray,(function(e){return a("el-option",{key:e.qrId,attrs:{value:e.qrId,label:e.receiptName+" | "+e.bankAccount}},[t._v(t._s(e.receiptName)+" | "+t._s(e.bankAccount))])})),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"支付类型"}},[a("el-select",{model:{value:t.witForm.payType,callback:function(e){t.$set(t.witForm,"payType",e)},expression:"witForm.payType"}},[a("el-option",{attrs:{value:"1",label:"支付宝"}},[t._v("支付宝")]),t._v(" "),a("el-option",{attrs:{value:"2",label:"微信"}},[t._v("微信")]),t._v(" "),a("el-option",{attrs:{value:"3",label:"银行卡"}},[t._v("银行卡")])],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handleWitForm}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.activeName="first"}}},[t._v("返回")])],1)],1)],1)],1)],1),t._v(" "),a("el-card",{staticStyle:{height:"200px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"dashboard-button",on:{click:function(e){t.activeName="second"}}},[a("i",{staticClass:"el-icon-document-add",staticStyle:{"font-size":"40px","line-height":"80px"}}),t._v(" "),a("div",{staticStyle:{color:"#000","font-size":"14px","margin-top":"10px"}},[t._v("新增APP")])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"dashboard-button",on:{click:function(e){t.activeName="third"}}},[a("i",{staticClass:"el-icon-lock",staticStyle:{"font-size":"40px","line-height":"80px"}}),t._v(" "),a("div",{staticStyle:{color:"#000","font-size":"14px","margin-top":"10px"}},[t._v("修改密码")])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"dashboard-button",on:{click:function(e){t.activeName="fourth"}}},[a("i",{staticClass:"el-icon-tickets",staticStyle:{"font-size":"40px","line-height":"80px"}}),t._v(" "),a("div",{staticStyle:{color:"#000","font-size":"14px","margin-top":"10px"}},[t._v("设置白名单")])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"dashboard-button",on:{click:function(e){t.activeName="fifth"}}},[a("i",{staticClass:"el-icon-s-finance",staticStyle:{"font-size":"40px","line-height":"80px"}}),t._v(" "),a("div",{staticStyle:{color:"#000","font-size":"14px","margin-top":"10px"}},[t._v("提现")])])])],1)],1)],1)],1):a("el-row",{staticStyle:{height:"100%"},attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-card",[a("div",{staticClass:"admin-title"},[t._v("今日代收金额")]),t._v(" "),a("div",{staticClass:"admin-number"},[t._v("0")])])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-card",[a("div",{staticClass:"admin-title"},[t._v("订单数量")]),t._v(" "),a("div",{staticClass:"admin-number"},[t._v("0")])])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-card",[a("div",{staticClass:"admin-title"},[t._v("成功数量")]),t._v(" "),a("div",{staticClass:"admin-number"},[t._v("0")])])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-card",[a("div",{staticClass:"admin-title"},[t._v("失败数量")]),t._v(" "),a("div",{staticClass:"admin-number"},[t._v("0")])])],1)],1)],1)},o=[],r=(a("ac6a"),a("456d"),a("c24f")),n=a("9aba"),l=a("720d"),c=a("ed08"),s={name:"Dashboard",data:function(){return{name:localStorage.getItem("name"),commercialInfo:{},appListInfo:{appArray:[],qrArray:[]},activeName:"first",addForm:{appWhiteList:"",appBackUrl:"",appKey:"",appImg:"",appId:"",appName:"",commercialNumber:function(t){return localStorage.getItem("number")}()},modifyForm:{commercialName:function(t){return localStorage.getItem("name")}(),commercialNumber:function(t){return localStorage.getItem("number")}(),oldPwd:"",newPwd:"",newPwd2:""},ipsForm:{commercialNumber:function(t){return localStorage.getItem("number")}(),ips:""},witForm:{commercialNumber:function(t){return localStorage.getItem("number")}(),witMoney:"",payType:""},map:{commercialName:"商户名",commercialIphone:"商户手机号",commercialNumber:"商户号",commercialBalance:"商户余额",commercialRatio:"服务费收取比例",commercialWithRatio:"提现比例",creationTime:"创建时间",updateTime:"\t修改时间",appName:"应用名",appBackUrl:"回调地址",appIsPut:"是否上架",createTime:"创建时间",appKey:"appKey"}}},created:function(){this.getCommercialInfo(),this.getAPPListInfo(),this.getQRList()},methods:{getQRList:function(){var t=this,e={commercialNumber:localStorage.getItem("number"),filter:function(t){return Object(c["a"])(t)}({commercialNumber:localStorage.getItem("number"),enableStatus:1})};Object(n["d"])(e).then((function(e){"10000"===e.errorCode&&(t.appListInfo.qrArray=e.rows||[])}))},editAPPKey:function(t){var e=this;this.$confirm("确定要修改"+t.appName+"的APPKey吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["p"])({appId:t.appId}).then((function(t){"10000"===t.errorCode&&(e.$message({type:"success",message:"修改成功!"}),e.getCommercialInfo())})).catch((function(t){e.$message.error(t)}))})).catch((function(){e.$message({type:"info",message:"已取消"})}))},getCommercialInfo:function(){var t=this;Object(r["h"])({commercialId:localStorage.getItem("id")||"182f04b9-b4e0-4515-8a09-b91c3397fadc",commercialNumber:localStorage.getItem("number")}).then((function(e){e.commercial.creationTime=new Date(e.commercial.creationTime).toLocaleString(),e.commercial.updateTime=new Date(e.commercial.updateTime).toLocaleString(),t.commercialInfo=e.commercial||{},t.ipsForm.ips=e.ips}))},getAPPListInfo:function(){var t=this;Object(r["d"])({commercialNumber:localStorage.getItem("number")}).then((function(e){t.appListInfo.appArray=e.rows}))},handleUploadPicture:function(t){var e=this,a=new FormData;a.append("file",t),a.append("imgType",1),a.append("commercialNumber",localStorage.getItem("number")),Object(n["f"])(a).then((function(t){e.addForm.appImg=t.src}))},handleAddAPP:function(){var t=this;Object(r["a"])(this.addForm).then((function(e){"10000"===e.errorCode&&(t.$message({type:"success",message:e.mes}),t.initForm(t.addForm),t.getAPPListInfo())}))},handleModifyPwd:function(){var t=this,e=Object.assign({},this.modifyForm),a=new l["JSEncrypt"];a.setPublicKey(localStorage.getItem("publicKey")),e.oldPwd=a.encrypt(e.oldPwd),e.newPwd=a.encrypt(e.newPwd),delete e.newPwd2,Object(r["n"])(e).then((function(e){"10000"===e.errorCode&&(t.$message({type:"success",message:e.mes}),t.initForm(t.modifyForm))}))},handleIpsForm:function(){var t=this;Object(r["k"])(this.ipsForm).then((function(e){"10000"===e.errorCode&&(t.$message.success(e.mes),t.initForm(t.ipsForm))})).catch((function(e){t.$message.error(e)}))},handleWitForm:function(){var t=this;if(this.witForm.qrId&&this.witForm.payType){var e=Object.assign({},this.witForm);e.witMoney=100*e.witMoney,Object(r["c"])(e).then((function(e){"10000"===e.errorCode&&(t.$message.success(e.mes),t.initForm(t.witForm))})).catch((function(e){t.$message.error(e)}))}else this.$message.info("请填写完整表格")},initForm:function(t){var e=Object.keys(t);e.forEach((function(e){"commercialNumber"!==e&&"commercialName"!==e&&(t[e]="")}))}}},m=s,p=(a("af54"),a("2877")),d=Object(p["a"])(m,i,o,!1,null,null,null);e["default"]=d.exports},"9aba":function(t,e,a){"use strict";a.d(e,"f",(function(){return o})),a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return l})),a.d(e,"e",(function(){return c})),a.d(e,"c",(function(){return s}));var i=a("b775");function o(t){return Object(i["a"])({url:"/instead-pay-web/upload/qrUpload",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/instead-pay-web/qr/insert",method:"post","Content-Type":"multipart/form-data",data:t})}function n(t){return Object(i["a"])({url:"/instead-pay-web/qr/distributionQrCodeByHand",method:"post","Content-Type":"multipart/form-data",data:t})}function l(t){return Object(i["a"])({url:"/instead-pay-web/qr/queryQrAll",method:"post","Content-Type":"multipart/form-data",data:t})}function c(t){return Object(i["a"])({url:"/instead-pay-web/qr/updateEnableStatus",method:"post","Content-Type":"multipart/form-data",data:t})}function s(t){return Object(i["a"])({url:"/instead-pay-web/qr/getQrById",method:"post","Content-Type":"multipart/form-data",data:t})}},af54:function(t,e,a){"use strict";var i=a("17c7"),o=a.n(i);o.a}}]);