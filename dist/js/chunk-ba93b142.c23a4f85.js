(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba93b142"],{"371d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"filter-container"},[a("el-form",{staticStyle:{"text-align":"right"},attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"收款人",clearable:"",size:"mini"},model:{value:e.mainTable.filter.receiptName,callback:function(t){e.$set(e.mainTable.filter,"receiptName",t)},expression:"mainTable.filter.receiptName"}})],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"启用状态",clearable:"",size:"mini"},model:{value:e.mainTable.filter.enableStatus,callback:function(t){e.$set(e.mainTable.filter,"enableStatus",t)},expression:"mainTable.filter.enableStatus"}},[a("el-option",{attrs:{value:0,label:"停用"}},[e._v("停用")]),e._v(" "),a("el-option",{attrs:{value:1,label:"启用"}},[e._v("启用")])],1)],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"账号类型",clearable:"",size:"mini"},model:{value:e.mainTable.filter.receiptType,callback:function(t){e.$set(e.mainTable.filter,"receiptType",t)},expression:"mainTable.filter.receiptType"}},e._l(e.map,(function(t,r){return a("el-option",{key:r,attrs:{value:r,label:t}},[e._v(e._s(t))])})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.getQRList}},[a("i",{staticClass:"el-icon-search"})])],1)],1)],1),e._v(" "),a("el-card",[a("el-col",{staticStyle:{"text-align":"right","margin-bottom":"10px",position:"relative","z-index":"2"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.addQR}},[e._v("新增二维码")])],1),e._v(" "),a("el-row",{attrs:{gutter:10}},e._l(e.mainTable.array,(function(t){return a("el-col",{key:t.qrId,attrs:{xs:24,sm:12,lg:8,xl:6}},[a("el-card",{staticStyle:{"margin-bottom":"10px",position:"relative"}},[a("img",{staticStyle:{"border-radius":"4px"},attrs:{src:t.qrUrl,alt:"",width:"150px",height:"150px"}}),e._v(" "),a("div",{staticClass:"qr-info"},[a("div",{staticClass:"account"},[e._v(e._s(t.bankAccount))]),e._v(" "),a("div",{staticClass:"name"},[e._v(e._s(t.receiptName))]),e._v(" "),a("div",{staticClass:"account-type"},[e._v(e._s(e.map[t.receiptType]))]),e._v(" "),a("div",{staticClass:"time"},[e._v(e._s(new Date(t.createTime).toLocaleString()))]),e._v(" "),a("div",{staticClass:"circle",class:1==t.enableStatus?"circle-success":"circle-error",attrs:{title:"当前状态："+(1==t.enableStatus?"启用":"停用")},on:{click:function(a){return e.changeStatus(t)}}},[a("i",{staticClass:"el-icon-check enable-status"}),e._v(" "),a("i",{staticClass:"el-icon-close disable-status"})])])])],1)})),1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.mainTable.array.length,expression:"mainTable.array.length === 0"}],staticStyle:{"line-height":"200px","text-align":"center",color:"#999"}},[e._v("暂无任何收款方式")])],1),e._v(" "),a("el-dialog",{attrs:{width:"400px",center:"",title:"新增二维码",visible:e.mainTable.dialogAddVisible},on:{"update:visible":function(t){return e.$set(e.mainTable,"dialogAddVisible",t)}}},[a("el-form",{ref:"addForm",attrs:{model:e.mainTable.addForm,rules:e.mainTable.formRules}},[a("el-form-item",{attrs:{label:"二维码路径","label-width":"100px",prop:"qrUrl"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":e.handleUploadPicture}},[e.mainTable.addForm.qrUrl?a("img",{staticClass:"avatar",attrs:{src:e.mainTable.addForm.qrUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"状态","label-width":"100px",prop:"enableStatus"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.mainTable.addForm.enableStatus,callback:function(t){e.$set(e.mainTable.addForm,"enableStatus",t)},expression:"mainTable.addForm.enableStatus"}},[a("el-option",{attrs:{value:1,label:"启用"}},[e._v("启用")]),e._v(" "),a("el-option",{attrs:{value:0,label:"停用"}},[e._v("停用")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"账号","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.mainTable.addForm.bankAccount,callback:function(t){e.$set(e.mainTable.addForm,"bankAccount",t)},expression:"mainTable.addForm.bankAccount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收款名","label-width":"100px",prop:"receiptName"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.mainTable.addForm.receiptName,callback:function(t){e.$set(e.mainTable.addForm,"receiptName",t)},expression:"mainTable.addForm.receiptName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"二维码类型","label-width":"100px",prop:"receiptType"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.mainTable.addForm.receiptType,callback:function(t){e.$set(e.mainTable.addForm,"receiptType",t)},expression:"mainTable.addForm.receiptType"}},[a("el-option",{attrs:{value:1,label:"支付宝"}},[e._v("支付宝")]),e._v(" "),a("el-option",{attrs:{value:2,label:"微信"}},[e._v("微信")]),e._v(" "),a("el-option",{attrs:{value:3,label:"银行卡"}},[e._v("银行卡")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.mainTable.dialogAddVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleAddQR}},[e._v("确 定")])],1)],1)],1)},i=[],l=(a("ac6a"),a("456d"),a("9aba")),n=a("ed08"),o={data:function(){return{map:{1:"支付宝二维码",2:"微信二维码",3:"银行卡",4:"支付宝账号",5:"微信账号"},mainTable:{array:[],filter:{qrUrl:"",enableStatus:"",bankAccount:"",receiptName:"",receiptType:"",commercialNumber:localStorage.getItem("number")},addForm:{qrUrl:"",enableStatus:"",receiptName:"",receiptType:"",commercialNumber:localStorage.getItem("number")},formRules:{qrUrl:[{required:!0,trigger:"blur"}],enableStatus:[{required:!0,trigger:"blur"}],receiptName:[{required:!0,trigger:"blur"}],receiptType:[{required:!0,trigger:"blur"}],commercialNumber:[{required:!0,trigger:"blur"}],operatorMoney:[{required:!0,trigger:"blur"}],makerName:[{required:!0,trigger:"blur"}],num:[{required:!0,trigger:"blur"}],outId:[{required:!0,trigger:"blur"}],applicationType:[{required:!0,trigger:"blur"}],payType:[{required:!0,trigger:"blur"}],applicationName:[{required:!0,trigger:"blur"}]},dialogAddVisible:!1}}},created:function(){this.getQRList()},methods:{changeStatus:function(e){var t=e.qrId,a=e.enableStatus;Object(l["e"])({qrId:t,status:0===a?1:0}).then((function(t){"10000"===t.errorCode&&(e.enableStatus=0===a?1:0)}))},initForm:function(e,t){var a=this,r=Object.keys(e);r.forEach((function(t){"commercialNumber"!==t&&(e[t]="")})),this.$nextTick((function(e){a.$refs[t].clearValidate()}))},addQR:function(){this.initForm(this.mainTable.addForm,"addForm"),this.mainTable.dialogAddVisible=!0},handleUploadPicture:function(e){var t=this,a=new FormData;a.append("file",e),a.append("imgType",2),a.append("commercialNumber",localStorage.getItem("number")),Object(l["f"])(a).then((function(e){t.mainTable.addForm.qrUrl=e.src}))},handleAddQR:function(){var e=this;Object(l["a"])(this.mainTable.addForm).then((function(t){e.$message({type:"success",message:t.mes}),e.mainTable.dialogAddVisible=!1,e.getQRList()}))},getQRList:function(){var e=this,t={commercialNumber:localStorage.getItem("number"),filter:function(e){return Object(n["a"])(e)}(this.mainTable.filter)};Object(l["d"])(t).then((function(t){"10000"===t.errorCode&&(e.mainTable.array=t.rows||[])}))}}},s=o,c=(a("76db"),a("2877")),u=Object(c["a"])(s,r,i,!1,null,"00baf750",null);t["default"]=u.exports},"456d":function(e,t,a){var r=a("4bf8"),i=a("0d58");a("5eda")("keys",(function(){return function(e){return i(r(e))}}))},"5eda":function(e,t,a){var r=a("5ca1"),i=a("8378"),l=a("79e5");e.exports=function(e,t){var a=(i.Object||{})[e]||Object[e],n={};n[e]=t(a),r(r.S+r.F*l((function(){a(1)})),"Object",n)}},"6b9e":function(e,t,a){},"76db":function(e,t,a){"use strict";var r=a("6b9e"),i=a.n(r);i.a},"9aba":function(e,t,a){"use strict";a.d(t,"f",(function(){return i})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return c}));var r=a("b775");function i(e){return Object(r["a"])({url:"/instead-pay-web/upload/qrUpload",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/instead-pay-web/qr/insert",method:"post","Content-Type":"multipart/form-data",data:e})}function n(e){return Object(r["a"])({url:"/instead-pay-web/qr/distributionQrCodeByHand",method:"post","Content-Type":"multipart/form-data",data:e})}function o(e){return Object(r["a"])({url:"/instead-pay-web/qr/queryQrAll",method:"post","Content-Type":"multipart/form-data",data:e})}function s(e){return Object(r["a"])({url:"/instead-pay-web/qr/updateEnableStatus",method:"post","Content-Type":"multipart/form-data",data:e})}function c(e){return Object(r["a"])({url:"/instead-pay-web/qr/getQrById",method:"post","Content-Type":"multipart/form-data",data:e})}}}]);