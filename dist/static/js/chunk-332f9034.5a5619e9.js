(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-332f9034"],{4565:function(e,r,s){"use strict";var t=s("b195"),o=s.n(t);o.a},b195:function(e,r,s){},d5c2:function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"register-container"},[s("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"register-card"},[s("div",{staticClass:"system-register"},[s("div",{staticClass:"title-container"},[s("span",{staticClass:"title",class:"system"===e.mode?"is-active":"",on:{click:function(r){e.initForm("registerSystemForm"),e.mode="system"}}},[e._v("系统注册")]),e._v(" "),s("span",{staticClass:"title",class:"user"===e.mode?"is-active":"",on:{click:function(r){e.initForm("registerUserForm"),e.mode="user"}}},[e._v("客户注册")])]),e._v(" "),s("div",{class:"system"===e.mode?"":"show-transform-rotate",staticStyle:{transition:".4s","-webkit-perspective":"500"}},[s("el-form",{ref:"registerSystemForm",attrs:{model:e.registerSystemForm,rules:e.registerRules}},[s("el-form-item",{attrs:{prop:"commercialName",label:"商户号"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerSystemForm.commercialName,expression:"registerSystemForm.commercialName"}],staticClass:"register-input",attrs:{name:"commercialName",type:"text",tabindex:"1","auto-complete":"on"},domProps:{value:e.registerSystemForm.commercialName},on:{input:function(r){r.target.composing||e.$set(e.registerSystemForm,"commercialName",r.target.value)}}})]),e._v(" "),s("el-form-item",{attrs:{prop:"commercialIphone",label:"手机号"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerSystemForm.commercialIphone,expression:"registerSystemForm.commercialIphone"}],staticClass:"register-input",attrs:{name:"commercialIphone",type:"text",tabindex:"2","auto-complete":"on"},domProps:{value:e.registerSystemForm.commercialIphone},on:{input:function(r){r.target.composing||e.$set(e.registerSystemForm,"commercialIphone",r.target.value)}}})]),e._v(" "),s("el-form-item",{attrs:{prop:"commercialPassword",label:"密码"}},["checkbox"===(e.passWordType?"password":"")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerSystemForm.commercialPassword,expression:"registerSystemForm.commercialPassword"}],staticClass:"register-input",attrs:{name:"commercialPassword",tabindex:"4","auto-complete":"on",type:"checkbox"},domProps:{checked:Array.isArray(e.registerSystemForm.commercialPassword)?e._i(e.registerSystemForm.commercialPassword,null)>-1:e.registerSystemForm.commercialPassword},on:{change:function(r){var s=e.registerSystemForm.commercialPassword,t=r.target,o=!!t.checked;if(Array.isArray(s)){var a=null,i=e._i(s,a);t.checked?i<0&&e.$set(e.registerSystemForm,"commercialPassword",s.concat([a])):i>-1&&e.$set(e.registerSystemForm,"commercialPassword",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.registerSystemForm,"commercialPassword",o)}}}):"radio"===(e.passWordType?"password":"")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerSystemForm.commercialPassword,expression:"registerSystemForm.commercialPassword"}],staticClass:"register-input",attrs:{name:"commercialPassword",tabindex:"4","auto-complete":"on",type:"radio"},domProps:{checked:e._q(e.registerSystemForm.commercialPassword,null)},on:{change:function(r){return e.$set(e.registerSystemForm,"commercialPassword",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerSystemForm.commercialPassword,expression:"registerSystemForm.commercialPassword"}],staticClass:"register-input",attrs:{name:"commercialPassword",tabindex:"4","auto-complete":"on",type:e.passWordType?"password":""},domProps:{value:e.registerSystemForm.commercialPassword},on:{input:function(r){r.target.composing||e.$set(e.registerSystemForm,"commercialPassword",r.target.value)}}}),e._v(" "),s("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[s("svg-icon",{attrs:{"icon-class":"password"===e.passWordType?"eye":"eye-open"}})],1)])],1)],1),e._v(" "),s("button",{staticClass:"register-button",on:{click:function(r){return e.handleRegister()}}},[e._v("注册")]),e._v(" "),s("div",{staticClass:"hr"}),e._v(" "),s("div",{staticClass:"back-to-login",on:{click:function(r){return r.preventDefault(),e.handleToLogin(r)}}},[e._v("已有账号？")]),e._v(" "),s("div",{class:"user"===e.mode?"":"show-transform",staticStyle:{transform:"translateY(-157%)",transition:".4s","-webkit-perspective":"500"}},[s("el-form",{ref:"registerUserForm",attrs:{model:e.registerUserForm,rules:e.registerRules}},[s("el-form-item",{attrs:{prop:"commercialName",label:"商户号"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUserForm.commercialName,expression:"registerUserForm.commercialName"}],staticClass:"register-input",attrs:{name:"commercialName",type:"text",tabindex:"1","auto-complete":"on"},domProps:{value:e.registerUserForm.commercialName},on:{input:function(r){r.target.composing||e.$set(e.registerUserForm,"commercialName",r.target.value)}}})]),e._v(" "),s("el-form-item",{attrs:{prop:"commercialIphone",label:"手机号"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUserForm.commercialIphone,expression:"registerUserForm.commercialIphone"}],staticClass:"register-input",attrs:{name:"commercialIphone",type:"text",tabindex:"2","auto-complete":"on"},domProps:{value:e.registerUserForm.commercialIphone},on:{input:function(r){r.target.composing||e.$set(e.registerUserForm,"commercialIphone",r.target.value)}}})]),e._v(" "),s("el-form-item",{attrs:{prop:"commercialPassword",label:"密码"}},["checkbox"===(e.passWordType?"password":"")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUserForm.commercialPassword,expression:"registerUserForm.commercialPassword"}],staticClass:"register-input",attrs:{name:"commercialPassword",tabindex:"4","auto-complete":"on",type:"checkbox"},domProps:{checked:Array.isArray(e.registerUserForm.commercialPassword)?e._i(e.registerUserForm.commercialPassword,null)>-1:e.registerUserForm.commercialPassword},on:{change:function(r){var s=e.registerUserForm.commercialPassword,t=r.target,o=!!t.checked;if(Array.isArray(s)){var a=null,i=e._i(s,a);t.checked?i<0&&e.$set(e.registerUserForm,"commercialPassword",s.concat([a])):i>-1&&e.$set(e.registerUserForm,"commercialPassword",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.registerUserForm,"commercialPassword",o)}}}):"radio"===(e.passWordType?"password":"")?s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUserForm.commercialPassword,expression:"registerUserForm.commercialPassword"}],staticClass:"register-input",attrs:{name:"commercialPassword",tabindex:"4","auto-complete":"on",type:"radio"},domProps:{checked:e._q(e.registerUserForm.commercialPassword,null)},on:{change:function(r){return e.$set(e.registerUserForm,"commercialPassword",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.registerUserForm.commercialPassword,expression:"registerUserForm.commercialPassword"}],staticClass:"register-input",attrs:{name:"commercialPassword",tabindex:"4","auto-complete":"on",type:e.passWordType?"password":""},domProps:{value:e.registerUserForm.commercialPassword},on:{input:function(r){r.target.composing||e.$set(e.registerUserForm,"commercialPassword",r.target.value)}}}),e._v(" "),s("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[s("svg-icon",{attrs:{"icon-class":"password"===e.passWordType?"eye":"eye-open"}})],1)])],1)],1)])])],1)},o=[],a=s("720d"),i={data:function(){return{mode:"system",userType:"",registerSystemForm:{commercialName:"",commercialIphone:"",commercialPassword:""},registerUserForm:{commercialName:"",commercialIphone:"",commercialPassword:""},registerRules:{commercialName:[{required:!0,trigger:"blur",message:"商户名必填"}],commercialIphone:[{required:!0,trigger:"blur",message:"手机号必填"}],commercialPassword:[{required:!0,trigger:"blur",message:"密码必填"}]},passWordType:"password",loading:!1,isRegisterSuccess:!1}},methods:{showPwd:function(){var e=this;"password"===this.passWordType?this.passWordType="":this.passWordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},initForm:function(e){this.$refs[e].resetFields()},handleRegister:function(){var e,r=this;"system"===this.mode?(this.userType=0,e="registerSystemForm"):(this.userType=1,e="registerUserForm"),this.$refs[e].validate((function(e){if(!e)return!1;r.loading=!0,r.$store.dispatch("user/getPublicKey").then((function(e){var s=new a["JSEncrypt"];s.setPublicKey(e.publicKey);var t=s.encrypt(r.registerSystemForm.commercialPassword),o={commercialName:r.registerSystemForm.commercialName,commercialIphone:r.registerSystemForm.commercialIphone,userType:r.userType,commercialPassword:t};r.$store.dispatch("user/register",o).then((function(){r.isRegisterSuccess=!0,setTimeout((function(){r.$router.push({path:r.redirect||"/"})}),2e3)})).finally((function(){r.loading=!1}))}))}))},handleToLogin:function(){this.$router.push({path:"/login"})}}},m=i,c=(s("4565"),s("2877")),n=Object(c["a"])(m,t,o,!1,null,null,null);r["default"]=n.exports}}]);